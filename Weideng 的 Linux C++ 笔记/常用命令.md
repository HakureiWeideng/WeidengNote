# 常用命令

[Linux命令大全(手册) ---（基本查询）](https://www.linuxcool.com/)

[Linux命令大全(手册) ---（实例详解）](https://man.linuxde.net/)

## 基本操作命令

### 快捷键

#### 终端控制

- Ctrl + Alt + F1 ~ F6
  切换终端，即命名为 tty1 ~ tty6 的操作接口环境。
  
  - 默认启动图形界面，则 tty1 会被图形界面占用
  - 默认启动命令行，则 tty1 会被命令行占用
  - 系统不会一下出现 6 个 tty ，按下切换时，会按需要产生新的 tty
  
- Ctrl + c
  中断程序
  
- Ctrl + z

  把当前进程移至后台，可用 fg 命令回到前台。

- Ctrl + d
  输入结束符 EOF，可以取代 exit 的输入，可以直接离开命令行模式
  
- Ctrl + l
  产生类似于清屏的效果，使命令输入位置置顶。原来的操作仍可向上翻页查看，不同于 clear。
  
- Ctrl + s
  停止屏幕上卷
  
- Ctrl + q
  恢复屏幕上卷
  
- Shift + Page UP  |  Page Down
  翻页
  
- Shift + UP | Down

  翻行

#### 命令输入

- 光标移动

  - Ctrl + a

    光标迅速回到行首（Home 键也行）

  - Ctrl + e

    光标迅速回到行尾（End 键也行）
    
  - Ctrl + r

    可利用其的搜索功能，从当前光标**往前**搜索指定的字符串（依次输入字符），达到跳转光标到指定位置的目的。

  - Ctrl + ]

    从当前光标**向后**搜索指定的某个字符（一次只能搜索一个字符，应指定尽量特殊的字符）。

  - ESC + b

    移动到当前单词开头（符号分隔）。

  - ESC + f

    移动到当前单词结尾（符号分隔）。

- 参数输入

  - Tab
    按一下补全，按两下显示候补列表
    
  - ESC + .

    获取上一条命令最后的部分（空格分隔）。

  - ESC + t

    将当前光标位置的单词与其前一个单词交换位置（符号分隔）。

- 历史命令

  - Up

  	上一条历史命令

  - Down

  	下一条历史命令

  - Ctrl + r

  	按下后输入字符（可依次多个字符，这些字符构成一个匹配串，可输入空格，没有匹配的字符无法继续输入），从当前光标进行反向搜索，可搜索包含指定的字符串的历史命令，找到后可按 Up 或 Down 从该命令开始查看其前后的历史命令，按 ESC 结束搜索，按 Enter 直接执行命令，也可修改该命令后执行。多次按 Ctrl + r 可继续往前搜索历史命令。

- 输入控制

  - Ctrl + k

    剪切（删除）光标处到行尾的所有字符

  - Ctrl + u

    剪切（删除）光标处到行首的所有字符

  - Ctrl + w

    剪切（删除）光标前的一个单词（空格分隔）
  
  - Ctrl + y
  
    粘贴 Ctrl + k、Ctrl + u、Ctrl + w 等删除的字符
    
  - Ctrl + insert
  
    复制命令行内容
  
  - Shift + insert
  
    粘贴命令行内容


### 命令

- cd

  切换目录

- ls

  列出目录项。

- clear
  清屏

- --help
  获取简略帮助的参数

- man
  获取详细说明书。

  - 代号（可使用 man man 获取更详细的代号说明）
    1. **用户在 shell 中可以操作的命令或可执行文件。**（命令）
    2. **系统内核可调用的函数或工具。**（系统函数）
    3. **常用函数与函数库，大部分为 C 函数库。**（C 库）
    4. 设备文件的说明。
    5. 配置文件或是某些文件的格式。
    6. 游戏。
    7. 惯例与协议，例如 Liunx 文件系统，网络协议等的说明。
    8. 系统管理员可用的管理命令。
    9. 跟内核有关的文件。
  
- info
  获取有层次的说明

- whatis
  查看命令的简短说明，仅说明该命令是干什么的，会列出所有完全同名的命令，相当于 `man -f `。
  
- which
  查看命令路径，只能查找 PATH 的路径中命令的路径，bash 内置命令找不到。

- whereis
  查看命令与命令说明书路径。
  
  - 使用 man 命令即是显示默认排序在前的说明书。
  - man 命令可指定显示某个说明书
  
- exit
  离开系统，即注销 linux ，并不是关机（只是退出账号）

- locale
  查看当前语系

- date
  显示日期与时间

- cal
  显示日历。
  
  - 语法：`cal   [month]   [year]` ，​可显示某年某月的日历，​只给一个数字将显示那一年的日历（共 12 个月）。
  
- su - 
  切换为 root
  使用 exit 即可返回账号

- sudo

  命令前加 sudo，以 root 身份执行该命令。

- stratx
  开启图形界面。
  
  - startx 生效需要具备的条件：
  	- 没有其它 X Window 被占用
  	- 必须已经安装了 X Window ，并且 X Server 能够顺利启动
  	- 最好有窗口管理器，例如 GNOME ,  KDE , 或是普通的 TWM 等 
  
- init 3
  回到纯命令行界面

### 关机

使用以下命令都是去调用 systemctl（system control）这个系统管理命令。

- sync
	将数据同步写入硬盘
- shutdown
	常用关机命令
- reboot
	重启
- halt   和   poweroff
	关机

### 符号

- $

	一般用户。

- #

  root 用户。

- .

  当前目录。

- ..

  上一级目录。

- ~

  当前用户家目录。

- ~account

  指定用户家目录。

- -

	上一次工作目录。

- 组合键符号说明中：

	^ 代表 Ctrl，M 代表 Alt 。

- |

	管道。
	
- ；

  使多条命令依次执行，显示的结果会首尾连接在一起。

- \

  使命令可以在下一行继续输入。

## 目录命令

| 命令  | 作用                                      |
| ----- | ----------------------------------------- |
| cd    | 切换目录。                                |
| ls    | 列出目录信息或文件属性。（常用 -a -l -d） |
| tree  | 用树状图列出目录结构。（可能要安装）      |
| pwd   | 显示当前所在目录（的路径）。              |
| mkdir | 建立一个新目录。                          |
| rmdir | 删除一个空目录                            |
| cp    | 复制，建立链接（常用 -a -i -p -r -u）     |
| rm    | 删除                                      |
| mv    | 移动，重命名                              |
| touch | 修改文件时间或创建新文件。                |

- 文件时间

	- 读取时间（access time，atime）

	- 状态时间（status time，ctime）
	
		权限或属性改变的时间。

	- 修改时间（modification time，mtime）
	
		ls 默认显示 mtime 。

## 文件查看

| 命令 | 作用 |
| - | - |
| cat | 由第一行开始显示文件内容。|
| tac | 由最后一行开始显示文件内容（ tac 为 cat 的逆序）。|
| nl | 显示的时候，同时输出行号，支持行号的多种显示。|
| more | 一页一页地显示文件内容。|
| less | 同  more，但可以往前翻页。（man 命令使用 less 显示） |
| head | 只看开头几行。 |
| tail | 只看结尾几行。|
| od  | 以二进制方式读取文件内容。|
| vim | 用 vim 打开文件。|
| file | 查看文件类型信息。 |

## 查找

| 命令     | 作用                                                 |
| -------- | ---------------------------------------------------- |
| which    | 查找可执行文件。                                     |
| type     | 查询是否是 bash 内置命令。                           |
| apropos  | 查找含有指定关键词的所有说明文件，相当于 `man -k` 。 |
| locate   | 在已建立的查找数据库中查找。                         |
| updatedb | 查找文件并手动更新查找数据库。                       |
| find     | 多功能全局查找。                                     |

## 软硬链接

| 命令       | 作用                                        |
| ---------- | ------------------------------------------- |
| ln（link） | 建立硬链接。                                |
| ln -s      | 建立符号链接（Symbolic Link），也叫软链接。 |

## 压缩打包

| 扩展名（助记符） | 意义 |
| - | - |
| .zip | zip 压缩文件 |
| .gz | gzip 压缩文件 |
| .bz2 | bzip2 压缩文件 |
| .xz | xz 压缩文件 |
| .tar | tar 打包文件 |
| .tar.gz | 打包后又压缩的文件 |
| .tar.bz2 | |
| .tar.xz | |

- 压缩命令 gzip，bzip2，xz

	- 压缩率增大，压缩时长增大（gzip > bzip2 > xz）。

	- 若对目录使用，代表将目录内的每个文件单独压缩。

	| 参数 | 意义                                                      |
	| ---- | --------------------------------------------------------- |
	| -d   | 解压缩。                                                  |
	| -c   | 将数据输出到屏幕上，常配合 \| 来重定向。                  |
	| -v   | 显示压缩信息。                                            |
	| -k   | 保留原始文件（原文件或压缩文件）。（仅 bzip2 和 xz 支持） |

- 打包命令 tar

	- 打包文件称为 tarfile，打包并压缩的文件称为 tarball 。
	- 压缩示例：`tar -jcv -f <outFile.tar.bz2> <inFile>`
	- 查询示例：`tar -jtv -f <inFile.tar.bz2>`（查询包含文件的信息）
	- 解压缩示例：`tar -jxv -f <outFile.tar.bz2> -C <outDir>`
	
	| 参数       | 意义                                                         |
	| ---------- | ------------------------------------------------------------ |
	| -c         | 打包文件。                                                   |
	| -x         | 解包或解压缩文件。                                           |
	| -t         | 查看包含有的文件名。                                         |
	| -v         | 显示操作信息。（查询时加上 -v 会比单独 -t 显示更多文件的权限属性等信息） |
	| -z         | 通过 gzip，建议文件名 `*.tar.gz` 。                          |
	| -j         | 通过 bzip2，建议文件名 `*.tar.bz2` 。                        |
	| -J         | 通过 xz，，建议文件名 `*.tar.xz` 。                          |
	| -f         | 指定压缩后或解压后的文件名，-f 与文件名间不允许有空格外的字符。 |
	| -C         | 指定特定目录解压缩。                                         |
	| -p         | 保留备份数据原本的权限与属性，常用于配合 -c 备份文件。       |
	| -P         | 保留绝对路径，一般不保留更安全，能避免解压缩时绝对路径覆盖已有文件。 |
	| --exclude= | 指定不打包的文件。                                           |

## 软件管理

- Linux 系统基本上分两大类
	- RedHat 系列
		
		Redhat、CentOS、Fedora 等。
		
		- **rpm 安装包**，安装命令：`rpm -参数`。
		- 包管理工具 **yum **。
	- Debian系列。
		
		Debian、Ubuntu 等。
		
		- **deb 安装包**，安装命令：`dpkg -参数`。
		- 包管理工具 apt-get（可简写为 **apt**）。

## 网络文件

- wget

	用于从网络上获取文件。

	- `wget [url]`

		从 URL 获取文件到当前目录。

	- `wget -O [name] [url]`

		指定保存名称。

	- `wget -P [path] [url]`

		指定保存目录。

	- `wget -c [url]`

		断点续传，能够从上次文件下载位置继续下载。

- curl

	可以模拟浏览器请求，调试网页等。

	- `curl -O [url]`

		保存文件到当前目录。

	- `curl -o [name] [url]`

		以指定名称获取文件。
